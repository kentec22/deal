<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deal or No Deal - Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 15px;
            border: 3px solid gold;
        }

        .game-title {
            font-size: 3em;
            color: gold;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .player-info {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .info-panel {
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid gold;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }

        .info-label {
            font-size: 0.9em;
            color: gold;
            margin-bottom: 5px;
        }

        .info-value {
            font-size: 1.2em;
            font-weight: bold;
        }

        .game-area {
            display: grid;
            grid-template-columns: 70% 30%;
            gap: 20px;
            margin-bottom: 20px;
        }

        .cases-container {
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid gold;
            border-radius: 10px;
            padding: 20px;
        }

        .cases-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
        }

        .case {
            width: 100px;
            height: 120px;
            background: #8B4513;
            border: 3px solid #DAA520;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
            font-weight: bold;
            position: relative;
        }

        .case.selectable {
            animation: pulse 2s infinite;
        }

        .case.selected {
            transform: scale(1.05);
            border-color: #ffd700;
            box-shadow: 0 0 20px gold;
        }

        .case.faded {
            opacity: 0.4;
            cursor: not-allowed;
            background: #696969;
        }

        .case.opened {
            background: #2F4F4F;
        }

        .case-number {
            font-size: 1.5em;
            margin-bottom: 5px;
        }

        .case-amount {
            font-size: 0.9em;
            color: gold;
            display: none;
            text-align: center;
        }

        .case.opened .case-amount {
            display: block;
        }

        .amounts-container {
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid gold;
            border-radius: 10px;
            padding: 20px;
        }

        .amounts-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .amount-item {
            background: rgba(255, 215, 0, 0.2);
            border: 1px solid gold;
            border-radius: 5px;
            padding: 15px;
            text-align: center;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .amount-item.eliminated {
            background: rgba(255, 0, 0, 0.1);
            color: #888;
            opacity: 0.3;
            border-color: #666;
        }

        .amount-item.jackpot {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            border-color: #4CAF50;
            animation: jackpotPulse 2s infinite;
        }

        .footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: rgba(0, 0, 0, 0.8);
            border-radius: 10px;
            border: 2px solid gold;
        }

        .control-buttons {
            display: flex;
            gap: 10px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: black;
        }

        .btn-warning {
            background: linear-gradient(45deg, #ff9800, #f57c00);
            color: white;
        }

        .btn-info {
            background: linear-gradient(45deg, #2196F3, #1976D2);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .splash-content {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f);
            border: 5px solid gold;
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            max-width: 600px;
        }

        .splash-title {
            font-size: 2.5em;
            color: gold;
            margin-bottom: 20px;
        }

        .splash-message {
            font-size: 1.2em;
            margin-bottom: 30px;
        }

        .offer-display {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1001;
        }

        .offer-content {
            background: linear-gradient(135deg, #2d1a6c, #1f1fb2);
            border: 5px solid gold;
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            max-width: 500px;
        }

        .banker-offer-amount {
            font-size: 3em;
            color: #FFD700;
            margin: 20px 0;
        }

        .decision-buttons {
            display: flex;
            gap: 20px;
            margin-top: 30px;
        }

        .decision-btn {
            padding: 15px 30px;
            font-size: 1.2em;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
        }

        .deal-btn {
            background: #4CAF50;
            color: white;
        }

        .no-deal-btn {
            background: #f44336;
            color: white;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes jackpotPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @media (max-width: 768px) {
            .game-area {
                grid-template-columns: 1fr;
            }
            
            .cases-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .player-info {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .case {
                width: 80px;
                height: 100px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="game-title">DEAL OR NO DEAL</div>
            <div>Created by kentec with ChatGPT</div>
        </div>

        <!-- Player Info -->
        <div class="player-info">
            <div class="info-panel">
                <div class="info-label">PLAYER NAME</div>
                <div class="info-value" id="playerNameDisplay">Player</div>
            </div>
            <div class="info-panel">
                <div class="info-label">YOUR CASE</div>
                <div class="info-value" id="playerCaseDisplay">-</div>
            </div>
            <div class="info-panel">
                <div class="info-label">BANKER'S OFFER</div>
                <div class="info-value" id="bankerOfferDisplay">₱0</div>
            </div>
            <div class="info-panel">
                <div class="info-label">CASES OPENED</div>
                <div class="info-value" id="casesOpenedDisplay">0/20</div>
            </div>
        </div>

        <!-- Main Game Area -->
        <div class="game-area">
            <!-- Cases -->
            <div class="cases-container">
                <div class="cases-grid" id="casesGrid">
                    <!-- Cases will be generated here -->
                </div>
            </div>

            <!-- Amounts -->
            <div class="amounts-container">
                <div class="amounts-grid" id="amountsGrid">
                    <!-- Amounts will be generated here -->
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <div class="game-status" id="gameStatus">Select your case to begin</div>
            <div class="control-buttons">
                <button class="btn btn-warning" onclick="restartGame()">RESTART</button>
                <button class="btn btn-info" onclick="openSettings()">SETTINGS</button>
            </div>
        </div>
    </div>

    <!-- Welcome Splash -->
    <div class="splash-screen" id="welcomeSplash">
        <div class="splash-content">
            <div class="splash-title">WELCOME TO DEAL OR NO DEAL</div>
            <div class="splash-message" id="welcomePlayerName">Player, are you ready to play?</div>
            <button class="btn btn-primary" onclick="startGame()" style="font-size: 1.2em; padding: 15px 30px;">
                START GAME
            </button>
        </div>
    </div>

    <!-- Offer Display -->
    <div class="offer-display" id="offerDisplay">
        <div class="offer-content">
            <div class="splash-title">BANKER'S OFFER</div>
            <div class="splash-message">The banker is offering you:</div>
            <div class="banker-offer-amount" id="displayOfferAmount">₱0</div>
            <div class="splash-message">Will you take the deal?</div>
            <div class="decision-buttons">
                <button class="decision-btn deal-btn" onclick="handleDealDecision(true)">DEAL</button>
                <button class="decision-btn no-deal-btn" onclick="handleDealDecision(false)">NO DEAL</button>
            </div>
        </div>
    </div>

    <script>
        // Game State
        const gameState = {
            playerName: 'Player',
            playerCase: null,
            cases: [],
            amounts: [1, 5, 10, 25, 50, 75, 100, 200, 300, 400, 500, 750, 1000, 5000, 10000, 25000, 50000, 75000, 100000, 250000],
            remainingAmounts: [],
            openedCases: [],
            bankerOffer: 0,
            gamePhase: 'welcome'
        };

        // Initialize Game
        function initGame() {
            console.log('Initializing game...');
            
            // Load settings if available
            loadSettings();
            
            // Initialize game data
            initializeGameData();
            
            // Generate UI
            generateCasesUI();
            generateAmountsUI();
            
            console.log('Game initialized successfully');
        }

        function loadSettings() {
            try {
                const savedSettings = localStorage.getItem('dealOrNoDealSettings');
                if (savedSettings) {
                    const settings = JSON.parse(savedSettings);
                    gameState.playerName = settings.playerName || 'Player';
                    document.getElementById('playerNameDisplay').textContent = gameState.playerName;
                    document.getElementById('welcomePlayerName').textContent = gameState.playerName + ', are you ready to play?';
                }
            } catch (e) {
                console.log('No saved settings found, using defaults');
            }
        }

        function initializeGameData() {
            // Reset game state
            gameState.cases = [];
            gameState.remainingAmounts = [...gameState.amounts];
            gameState.openedCases = [];
            gameState.playerCase = null;
            gameState.bankerOffer = 0;
            
            // Create cases
            for (let i = 1; i <= 20; i++) {
                gameState.cases.push({
                    number: i,
                    amount: 0, // Will be assigned randomly
                    opened: false
                });
            }
            
            // Randomly assign amounts to cases
            const shuffledAmounts = [...gameState.amounts].sort(() => Math.random() - 0.5);
            gameState.cases.forEach((caseObj, index) => {
                caseObj.amount = shuffledAmounts[index];
            });
        }

        function generateCasesUI() {
            const casesGrid = document.getElementById('casesGrid');
            casesGrid.innerHTML = '';
            
            gameState.cases.forEach(caseObj => {
                const caseElement = document.createElement('div');
                caseElement.className = 'case selectable';
                caseElement.innerHTML = `
                    <div class="case-number">${caseObj.number}</div>
                    <div class="case-amount"></div>
                `;
                caseElement.onclick = () => selectCase(caseElement, caseObj.number);
                casesGrid.appendChild(caseElement);
            });
        }

        function generateAmountsUI() {
            const amountsGrid = document.getElementById('amountsGrid');
            amountsGrid.innerHTML = '';
            
            // Sort amounts for display
            const sortedAmounts = [...gameState.amounts].sort((a, b) => a - b);
            
            sortedAmounts.forEach(amount => {
                const amountElement = document.createElement('div');
                amountElement.className = 'amount-item';
                amountElement.id = `amount-${amount}`;
                amountElement.innerHTML = formatAmount(amount);
                
                if (amount >= 100000) {
                    amountElement.classList.add('jackpot');
                }
                
                amountsGrid.appendChild(amountElement);
            });
        }

        function selectCase(caseElement, caseNumber) {
            const caseObj = gameState.cases.find(c => c.number === caseNumber);
            
            if (!caseObj || caseObj.opened) return;
            
            if (gameState.gamePhase === 'welcome') {
                // First case selection - player's case
                gameState.playerCase = caseObj;
                caseElement.classList.add('selected');
                caseElement.classList.remove('selectable');
                document.getElementById('playerCaseDisplay').textContent = caseNumber;
                document.getElementById('gameStatus').textContent = 'Now open other cases';
                gameState.gamePhase = 'playing';
                
            } else if (gameState.gamePhase === 'playing') {
                // Open a case
                openCase(caseObj, caseElement);
            }
        }

        function openCase(caseObj, caseElement) {
            caseObj.opened = true;
            gameState.openedCases.push(caseObj);
            
            // Update case display
            caseElement.classList.add('opened', 'faded');
            caseElement.classList.remove('selectable');
            caseElement.querySelector('.case-amount').textContent = formatAmount(caseObj.amount);
            
            // Remove amount from available amounts
            const amountIndex = gameState.remainingAmounts.indexOf(caseObj.amount);
            if (amountIndex > -1) {
                gameState.remainingAmounts.splice(amountIndex, 1);
                
                // Update amounts display
                const amountElement = document.getElementById(`amount-${caseObj.amount}`);
                if (amountElement) {
                    amountElement.classList.add('eliminated');
                }
            }
            
            // Update game status
            const casesOpened = gameState.openedCases.length;
            document.getElementById('casesOpenedDisplay').textContent = `${casesOpened}/20`;
            
            // Check for banker's offer
            if ([3, 6, 9, 12, 15, 18].includes(casesOpened)) {
                showBankerOffer();
            }
            
            // Check for game end
            if (casesOpened === 19) {
                endGame();
            }
        }

        function showBankerOffer() {
            // Calculate banker's offer (average of remaining amounts)
            const average = gameState.remainingAmounts.reduce((sum, amt) => sum + amt, 0) / gameState.remainingAmounts.length;
            gameState.bankerOffer = Math.round(average * 0.7); // 70% of average
            
            document.getElementById('bankerOfferDisplay').textContent = formatAmount(gameState.bankerOffer);
            document.getElementById('displayOfferAmount').textContent = formatAmount(gameState.bankerOffer);
            
            // Show offer display
            document.getElementById('offerDisplay').style.display = 'flex';
            gameState.gamePhase = 'offer';
        }

        function handleDealDecision(acceptDeal) {
            document.getElementById('offerDisplay').style.display = 'none';
            
            if (acceptDeal) {
                // Player takes the deal
                endGame(true);
            } else {
                // Player continues
                gameState.gamePhase = 'playing';
                document.getElementById('gameStatus').textContent = 'Continue opening cases';
            }
        }

        function endGame(acceptedDeal = false) {
            let finalAmount;
            let message;
            
            if (acceptedDeal) {
                finalAmount = gameState.bankerOffer;
                const playerCaseAmount = gameState.playerCase.amount;
                
                if (playerCaseAmount > finalAmount) {
                    message = `You took ₱${finalAmount.toLocaleString()} but your case had ₱${playerCaseAmount.toLocaleString()}!`;
                } else {
                    message = `Great deal! You won ₱${finalAmount.toLocaleString()}!`;
                }
            } else {
                // Player didn't take deal, reveal their case
                finalAmount = gameState.playerCase.amount;
                message = `Your case contained ₱${finalAmount.toLocaleString()}!`;
                
                // Open the player's case visually
                const playerCaseElement = document.querySelector(`.case:nth-child(${gameState.playerCase.number})`);
                if (playerCaseElement) {
                    playerCaseElement.classList.add('opened');
                    playerCaseElement.querySelector('.case-amount').textContent = formatAmount(finalAmount);
                }
            }
            
            document.getElementById('gameStatus').textContent = message;
            gameState.gamePhase = 'ended';
            
            // Show final message
            setTimeout(() => {
                alert(`Game Over!\n${message}\n\nThank you for playing Deal or No Deal!`);
            }, 1000);
        }

        function startGame() {
            document.getElementById('welcomeSplash').style.display = 'none';
            gameState.gamePhase = 'welcome';
            document.getElementById('gameStatus').textContent = 'Select your case to begin';
        }

        function restartGame() {
            if (confirm('Are you sure you want to restart the game?')) {
                initializeGameData();
                generateCasesUI();
                generateAmountsUI();
                document.getElementById('playerCaseDisplay').textContent = '-';
                document.getElementById('bankerOfferDisplay').textContent = '₱0';
                document.getElementById('casesOpenedDisplay').textContent = '0/20';
                document.getElementById('gameStatus').textContent = 'Select your case to begin';
                gameState.gamePhase = 'welcome';
            }
        }

        function openSettings() {
            window.open('settings.html', '_blank');
        }

        function formatAmount(amount) {
            return `₱${amount.toLocaleString()}`;
        }

        // Initialize game when page loads
        window.addEventListener('load', initGame);
    </script>
</body>
</html>
