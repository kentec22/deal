<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><title>Deal or No Deal</title><meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<style>
body{margin:0;background:#050816;color:#fff;font-family:sans-serif;overflow-x:hidden}
body::before{content:"";position:fixed;inset:0;background:url("dodTransparent.png") center/contain no-repeat;opacity:.05;pointer-events:none;z-index:-1}
header{text-align:center;padding:16px;background:rgba(0,0,0,.6);border-bottom:1px solid rgba(255,255,255,.1)}
header img{max-width:200px}
header h1{margin:0;font-size:1.8rem;letter-spacing:.1em;text-transform:uppercase}
header h1 span{color:#f7b500}
#start-screen{position:fixed;inset:0;background:rgba(0,0,0,.85);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:100}
#start-btn{padding:14px 28px;font-size:1.2rem;border-radius:999px;border:none;background:linear-gradient(135deg,#f7b500,#ffdf6f);color:#000;font-weight:700;cursor:pointer}
main{display:grid;grid-template-columns:260px 1fr 260px;gap:12px;padding:12px}
.prize-column{display:flex;flex-direction:column;gap:8px}
.prize-item{padding:8px 12px;border-radius:10px;background:rgba(0,0,0,.4);border:1px solid rgba(255,255,255,.15);font-size:1.1rem}
.prize-item.revealed{opacity:.3;text-decoration:line-through}
#case-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;padding:10px;background:rgba(0,0,0,.3);border-radius:12px}
.case{position:relative;aspect-ratio:4/3;border-radius:10px;overflow:hidden;background:rgba(0,0,0,.6);border:2px solid rgba(255,255,255,.2);cursor:pointer}
.case:hover{transform:scale(1.05);border-color:#f7b500}
.case img{width:100%;height:100%;object-fit:cover}
.case-number{position:absolute;bottom:4px;right:6px;background:rgba(0,0,0,.7);padding:3px 6px;border-radius:6px;font-size:.8rem}
.case-value{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-size:1.2rem;font-weight:700;color:#f7b500;opacity:0}
.case.opened{pointer-events:none;opacity:.7}
#main-case-wrapper{text-align:center;margin-top:10px}
#main-case{width:180px;margin:auto;aspect-ratio:4/3;border-radius:12px;overflow:hidden;border:3px solid #f7b500}
#main-case img{width:100%;height:100%}
#round-info{text-align:center;margin-top:10px;font-size:1.2rem;color:#f7b500}
#offer-modal{position:fixed;inset:0;background:rgba(0,0,0,.7);display:none;align-items:center;justify-content:center;z-index:200}
#offer-box{background:#050814;padding:16px;border-radius:14px;width:280px;text-align:center;border:1px solid rgba(255,255,255,.2)}
.offer-btn{padding:8px 16px;border-radius:999px;border:none;font-weight:700;cursor:pointer;margin:4px}
.deal{background:#f7b500;color:#000}
.no-deal{background:#ff4b4b;color:#fff}
#settings-panel{position:fixed;right:10px;top:80px;width:240px;background:rgba(0,0,0,.6);padding:10px;border-radius:12px;display:none;z-index:150}
#debug-console{position:fixed;left:10px;bottom:60px;width:280px;max-height:40vh;overflow-y:auto;background:rgba(0,0,0,.6);padding:8px;border-radius:10px;display:none;z-index:150;font-size:.8rem}
footer{text-align:center;padding:8px;background:rgba(0,0,0,.85);font-size:.8rem;margin-top:10px}
</style>
</head>

<body>
<div id="start-screen"><h2>Deal or No Deal</h2><button id="start-btn">Start Game</button></div>

<header><img src="company.png"/><h1><span>Deal</span> or <span>No Deal</span></h1></header>

<main>
<div class="prize-column" id="prize-left"></div>
<div>
<div id="case-grid"></div>
<div id="main-case-wrapper"><div id="main-case"><img src="suitcase.png"/></div><div>Your Case</div></div>
<div id="round-info"></div>
</div>
<div class="prize-column" id="prize-right"></div>
</main>

<div id="offer-modal"><div id="offer-box"><h2>Banker's Offer</h2><div id="offer-amount"></div><button class="offer-btn deal" id="deal-btn">Deal</button><button class="offer-btn no-deal" id="no-deal-btn">No Deal</button></div></div>

<div id="settings-panel">
<label><input type="checkbox" id="sound-toggle" checked/> Sound</label>
<label><input type="checkbox" id="anim-toggle" checked/> Anim</label>
<label><input type="checkbox" id="debug-toggle"/> Debug</label>
<button onclick="location='custom-amounts.html'">Custom Amounts</button>
<button onclick="location='offer.html'">Enter Offer</button>
<button onclick="location.reload()">Reset</button>
</div>

<div id="debug-console"></div>

<audio id="a-intro" src="1-intro.mp3"></audio>
<audio id="a-loop" src="4-loop.mp3" loop></audio>
<audio id="a-case" src="2-case.mp3"></audio>
<audio id="a-off1" src="3-offer-1.mp3"></audio>
<audio id="a-off2" src="3-offer.mp3"></audio>
<audio id="a-small" src="5-smallcase.mp3"></audio>
<audio id="a-big" src="6-bigcase.mp3"></audio>

<script>
const R=[4,3,2,2,1,1,1];let P=[1,5,10,20,50,100,200,500,1000,2000,5000,10000,25000,50000,100000];
let S=[],mI=null,mV=null,r=0,to=R[0],o=0,snd=1,anim=1;
const L=document.getElementById("prize-left"),Rr=document.getElementById("prize-right"),G=document.getElementById("case-grid"),MC=document.getElementById("main-case"),RI=document.getElementById("round-info"),OM=document.getElementById("offer-modal"),OA=document.getElementById("offer-amount"),DBG=document.getElementById("debug-console");
function log(x){if(!document.getElementById("debug-toggle").checked)return;DBG.innerHTML+=x+"<br>"}
function play(a){if(!snd)return;a.currentTime=0;a.play()}
function sh(a){a=[...a];for(let i=a.length-1;i>0;i--){let j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]]}return a}
document.getElementById("start-btn").onclick=()=>{document.getElementById("start-screen").style.display="none";play(document.getElementById("a-loop"));init()};
play(document.getElementById("a-intro"));
function init(){
let c=localStorage.getItem("customAmounts");if(c)P=JSON.parse(c);
S=sh(P);mI=Math.floor(Math.random()*15);mV=S[mI];
buildPrizes();buildCases();upd()
}
function buildPrizes(){
L.innerHTML="";Rr.innerHTML="";
let h=Math.ceil(P.length/2),a=P.slice(0,h),b=P.slice(h);
a.forEach(v=>{let d=document.createElement("div");d.className="prize-item";d.id="p-"+v;d.textContent="₱"+v.toLocaleString();L.appendChild(d)});
b.forEach(v=>{let d=document.createElement("div");d.className="prize-item";d.id="p-"+v;d.textContent="₱"+v.toLocaleString();Rr.appendChild(d)});
}
function buildCases(){
G.innerHTML="";
for(let i=0;i<16;i++){
let d=document.createElement("div");d.className="case";
if(i<15){d.dataset.i=i;d.dataset.v=S[i];d.onclick=()=>openCase(i)}else d.style.visibility="hidden";
let img=document.createElement("img");img.src="suitcase.png";
let n=document.createElement("div");n.className="case-number";n.textContent=i<15?i+1:"";
let v=document.createElement("div");v.className="case-value";v.textContent=i<15?"₱"+S[i].toLocaleString():"";
d.append(img,n,v);G.appendChild(d)
}}
function openCase(i){
if(o>=to)return;
let d=G.children[i],v=Number(d.dataset.v);
d.classList.add("opened");d.querySelector("img").src="suitcase-open.jpg";d.querySelector(".case-value").style.opacity=1;
play(document.getElementById("a-case"));
if(v>=Math.max(...P)/2)play(document.getElementById("a-big"));else play(document.getElementById("a-small"));
document.getElementById("p-"+v).classList.add("revealed");
o++;upd();
if(o===to)setTimeout(checkOffer,800)
}
function upd(){RI.textContent="Round "+(r+1)+" — Open "+(to-o)+" case(s)"}
function checkOffer(){OM.style.display="flex";let off=localStorage.getItem("dod_offer");if(!off){OA.textContent="Waiting...";return}
let oData=JSON.parse(off);OA.textContent="₱"+oData.amount.toLocaleString();play(Math.random()<.5?document.getElementById("a-off1"):document.getElementById("a-off2"))}
document.getElementById("deal-btn").onclick=()=>{OM.style.display="none";alert("You accepted the deal! Your case had ₱"+mV.toLocaleString());location.reload()}
document.getElementById("no-deal-btn").onclick=()=>{OM.style.display="none";r++;if(r>=7){alert("Final reveal: ₱"+mV.toLocaleString());location.reload()}to=R[r];o=0;upd()}
document.getElementById("sound-toggle").onchange=e=>snd=e.target.checked?1:0;
document.getElementById("anim-toggle").onchange=e=>anim=e.target.checked?1:0;
document.getElementById("debug-toggle").onchange=e=>DBG.style.display=e.target.checked?"block":"none";
setInterval(()=>{let off=localStorage.getItem("dod_offer");if(off&&OM.style.display!=="flex")checkOffer()},1000);
</script>

<footer>Created by: Kenneth with AI</footer>
</body></html>
